{"version":3,"file":"loopTypewriter-063099f7.js","sources":["../node_modules/svelte-typewriter/src/helpers/unwriteEffect.js","../node_modules/svelte-typewriter/src/helpers/getRandomElement.js","../node_modules/svelte-typewriter/src/modes/loopTypewriter.js"],"sourcesContent":["import { typingInterval } from './typingInterval'\n\n/** @type {import(types').UnwriteEffect} */\nconst unwriteEffect = async (currentNode, options) => {\n\toptions.dispatch('done')\n\tawait typingInterval(typeof options.loop === 'number' ? options.loop : 1500)\n\tconst text = currentNode.innerHTML.replaceAll('&amp;', '&')\n\tfor (let index = text.length - 1; index >= 0; index--) {\n\t\tconst letter = text[index]\n\t\tletter === '>' && (index = text.lastIndexOf('<', index))\n\t\tcurrentNode.innerHTML = text.slice(0, index)\n\t\tawait typingInterval(options.unwriteInterval ? options.unwriteInterval : options.interval)\n\t}\n}\n\nexport { unwriteEffect }\n","import { rng } from './rng'\n\n/** @type {any[]} */\nlet alreadyChoosenTexts = []\n\n/** @type {import(types').GetRandomText} */\nconst getRandomElement = elements => {\n\twhile (true) {\n\t\tconst randomIndex = rng(0, elements.length)\n\t\t// After each iteration, avoid repeating the last text from the last iteration\n\t\tconst isTextDifferentFromPrevious =\n\t\t\ttypeof alreadyChoosenTexts === 'number' && randomIndex !== alreadyChoosenTexts\n\t\tconst isTextFirstTime =\n\t\t\tArray.isArray(alreadyChoosenTexts) && !alreadyChoosenTexts.includes(randomIndex)\n\t\tconst hasSingleChildElement = elements.length === 1\n\t\tconst shouldAnimate =\n\t\t\thasSingleChildElement || isTextFirstTime || isTextDifferentFromPrevious\n\t\tif (shouldAnimate) {\n\t\t\tisTextDifferentFromPrevious && (alreadyChoosenTexts = [])\n\t\t\talreadyChoosenTexts.push(randomIndex)\n\t\t\tconst randomText = elements[randomIndex]\n\t\t\treturn randomText\n\t\t}\n\t\tconst restartRandomizationCycle = alreadyChoosenTexts.length === elements.length\n\t\trestartRandomizationCycle && (alreadyChoosenTexts = alreadyChoosenTexts.pop())\n\t}\n}\n\nexport { getRandomElement }\n","import { writeEffect } from '../helpers/writeEffect'\nimport { unwriteEffect } from '../helpers/unwriteEffect'\nimport { getRandomElement } from '../helpers/getRandomElement'\nimport { runOnEveryParentUntil } from '../helpers/runOnEveryParentUntil'\n\n/** @type {import('types').TypewriterEffectFn} */\nconst loopTypewriter = async ({ currentNode, text }, options) => {\n\tawait writeEffect({ currentNode, text }, options)\n\tconst textWithUnescapedAmpersands = text.replaceAll('&', '&amp;')\n\tconst fullyWritten = currentNode.innerHTML === textWithUnescapedAmpersands\n\tfullyWritten && (await unwriteEffect(currentNode, options))\n\trunOnEveryParentUntil(currentNode, options.parentElement, element => {\n\t\tcurrentNode === element\n\t\t\t? element.classList.remove('typing')\n\t\t\t: element.classList.remove('finished-typing')\n\t})\n}\n\n/** @type {import('types').TypewriterModeFn} */\nconst mode = async (elements, options) => {\n\twhile (true) {\n\t\tif (options.loop) {\n\t\t\tfor (const element of elements) await loopTypewriter(element, options)\n\t\t} else if (options.loopRandom) {\n\t\t\tconst element = getRandomElement(elements)\n\t\t\tawait loopTypewriter(element, options)\n\t\t}\n\t}\n}\n\nexport { mode }\n"],"names":[],"mappings":"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"}